(this.webpackJsonpproj2=this.webpackJsonpproj2||[]).push([[0],{107:function(e,t,n){},127:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(20),s=n.n(c),i=(n(107),n(108),n(29)),o=n(18),l=n(24),d=n.n(l),j=n(12),u=n(31),b=n(25),p=n(87),m=n.n(p),x=n(174),O=n(92).a.initializeApp({apiKey:"AIzaSyC80DXpiz66DXkB20MyJoBH6B7CXkHKBP4",authDomain:"inventory-management-3c838.firebaseapp.com",projectId:"inventory-management-3c838",storageBucket:"inventory-management-3c838.appspot.com",messagingSenderId:"94852752989"}),f=n(4),h=function(e){return Object(f.jsxs)("div",{className:"lg:w-1/3 md:w-1/2 p-4 w-full",children:[Object(f.jsx)(i.b,{to:"/product/".concat(e.id),className:"block relative h-48 rounded overflow-hidden",children:Object(f.jsx)("img",{alt:"ecommerce",className:"object-cover object-center w-full h-full block",src:e.image})}),Object(f.jsxs)("div",{className:"mt-4",children:[Object(f.jsx)("h3",{className:"text-gray-500 text-lg tracking-widest title-font mb-1",children:e.name}),Object(f.jsx)("h2",{className:"text-gray-900 title-font text-lg font-medium",children:e.address}),Object(f.jsx)("p",{style:{display:"inline-block"},className:"mt-1",children:e.price}),Object(f.jsx)(x.a,{children:Object(f.jsx)(m.a,{style:{color:"red",marginLeft:"160px"},onClick:function(){O.firestore().collection("listings").doc(e.id).delete()}})})]})]})},g=function(){return Object(f.jsx)("div",{children:Object(f.jsx)("header",{className:"text-gray-600 body-font",children:Object(f.jsxs)("div",{className:"container mx-auto flex flex-wrap p-3 flex-col md:flex-row items-center",children:[Object(f.jsxs)(i.b,{exact:!0,to:"/",className:"flex title-font font-medium items-center hover:text-gray-900 text-gray-900 mb-4 md:mb-0",children:[Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,className:"w-10 h-10 text-white p-2 bg-red-500 rounded-full",viewBox:"0 0 24 24",children:Object(f.jsx)("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})}),Object(f.jsx)("span",{className:"ml-3 text-xl",children:"Inventory Management"})]}),Object(f.jsxs)("nav",{className:"md:ml-auto flex flex-wrap items-center text-base justify-center",children:[Object(f.jsx)(i.b,{to:"/add",className:"mr-5 text-gray-900 hover:text-gray-900",children:"Add Listing"}),Object(f.jsx)(i.b,{to:"/search",className:"mr-5 text-gray-900 hover:text-gray-900",children:"Search"})]}),Object(f.jsx)(i.b,{to:"/login",children:Object(f.jsx)("button",{onClick:function(){return O.auth().signOut()},className:"inline-flex text-white items-center bg-red-500 border-0 py-1 px-3 focus:outline-none hover:bg-black  rounded text-base mt-0 md:mt-0",children:"Logout"})})]})})})},v=function(){var e=r.a.useState([]),t=Object(b.a)(e,2),n=t[0],a=t[1];return r.a.useEffect((function(){(function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O.firestore().collection("listings").onSnapshot((function(e){var t=[];e.forEach((function(e){return t.push(Object(j.a)(Object(j.a)({},e.data()),{},{id:e.id}))})),a(t)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(f.jsxs)("div",{children:[Object(f.jsx)(g,{}),Object(f.jsx)("section",{className:"text-gray-600 body-font",children:Object(f.jsx)("div",{className:"container px-5 py-24 mx-auto",children:Object(f.jsx)("div",{className:"flex flex-wrap -m-4",children:n.map((function(e){return Object(f.jsx)(h,{id:e.id,image:e.images[0],name:e.name,address:e.address,price:"Rs. ".concat(e.price.toString())},e.id)}))})})})]})},y=n(172),w=function(e){var t=e.img;return Object(f.jsx)("div",{children:Object(f.jsx)(y.a,{children:t.map((function(e){return Object(f.jsx)(y.a.Item,{children:Object(f.jsx)("img",{className:"d-block w-100",src:e,alt:"First slide"})})}))})})},N=function(){var e=Object(a.useState)(""),t=Object(b.a)(e,2),n=t[0],c=t[1],s=Object(o.f)().id;return r.a.useEffect((function(){(function(){var e=Object(u.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=O.firestore(),e.next=3,t.collection("listings").doc(s).get();case 3:n=e.sent,c(n.data());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(f.jsxs)(r.a.Fragment,{children:[Object(f.jsx)(g,{}),Object(f.jsx)("section",{className:"text-gray-600 body-font overflow-hidden",children:Object(f.jsx)("div",{className:"container px-5 py-24 mx-auto",children:Object(f.jsxs)("div",{className:"lg:w-4/5  flex flex-wrap",children:[null==n.images?null:Object(f.jsx)(w,{img:n.images}),Object(f.jsxs)("div",{className:" w-full lg:pl-10 lg:py-6 mt-6 lg:mt-0",children:[Object(f.jsx)("h1",{className:"text-gray-900 text-3xl title-font font-medium mb-1",children:n.name}),Object(f.jsx)("p",{className:"leading-relaxed",children:n.area}),Object(f.jsx)("p",{children:n.address}),Object(f.jsx)("div",{className:"flex",children:Object(f.jsx)("span",{className:"title-font font-medium text-2xl text-gray-900",children:"Rs. ".concat(n.price)})})]})]})})})]})},S=n(164),k=n(175),C=n(165),P=function(){var e=Object(a.useState)(""),t=Object(b.a)(e,2),n=t[0],c=t[1],s=r.a.useState([]),i=Object(b.a)(s,2),o=i[0],l=i[1];return Object(f.jsxs)("div",{style:{margin:"0px 100px"},children:[Object(f.jsx)(g,{}),Object(f.jsxs)(S.a,{className:"mb-3",children:[Object(f.jsx)(k.a,{placeholder:"Search","aria-label":"Search","aria-describedby":"basic-addon2",value:n,onChange:function(e){c(e.target.value)}}),Object(f.jsx)(S.a.Append,{children:Object(f.jsx)(C.a,{variant:"outline-secondary",onClick:function(e){e.preventDefault(),function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O.firestore().collection("listings").where("area","==",n).onSnapshot((function(e){var t=[];e.forEach((function(e){return t.push(Object(j.a)(Object(j.a)({},e.data()),{},{id:e.id}))})),l(t)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()().then((function(){console.log(o)}))},children:"Search"})})]}),Object(f.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:null==o?null:o.map((function(e){return Object(f.jsx)(h,{id:e.id,image:e.images[0],name:e.name,address:e.address,price:"Rs. ".concat(e.price.toString())},e.id)}))})]})},U=n(176),D=n(168),I=n(171),L=n(173),R=n(91),A=n.n(R),q=n(169),E=n(166),F=n(167),W=r.a.createContext(),z=function(e){var t=e.children,n=Object(a.useState)(null),r=Object(b.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)(!0),o=Object(b.a)(i,2),l=o[0],d=o[1];return Object(a.useEffect)((function(){O.auth().onAuthStateChanged((function(e){s(e),d(!1)}))}),[]),l?Object(f.jsx)(f.Fragment,{children:"Loading..."}):Object(f.jsx)(W.Provider,{value:{currentUser:c},children:t})},B=Object(E.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),M=Object(o.g)((function(e){var t=e.history,n=B(),r=Object(a.useCallback)(function(){var e=Object(u.a)(d.a.mark((function e(n){var a,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a=n.target.elements,r=a.email,c=a.password,e.prev=2,e.next=5,O.auth().signInWithEmailAndPassword(r.value,c.value);case 5:t.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),alert(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),[t]);return Object(a.useContext)(W).currentUser?Object(f.jsx)(o.a,{to:"/"}):Object(f.jsxs)(F.a,{component:"main",maxWidth:"xs",children:[Object(f.jsx)(D.a,{}),Object(f.jsxs)("div",{className:n.paper,children:[Object(f.jsx)(U.a,{className:n.avatar,children:Object(f.jsx)(A.a,{})}),Object(f.jsx)(q.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(f.jsxs)("form",{onSubmit:r,className:n.form,noValidate:!0,children:[Object(f.jsx)(I.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),Object(f.jsx)(I.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),Object(f.jsx)("button",{style:{width:"100%",borderRadius:"5px",backgroundColor:"#ef4444",height:"40px",color:"white",fontSize:"20px",marginTop:"20px"},type:"submit",children:"Log In"})]})]}),Object(f.jsx)(L.a,{mt:8})]})})),J=n(93),T=function(e){var t=e.component,n=Object(J.a)(e,["component"]),r=Object(a.useContext)(W).currentUser;return Object(f.jsx)(o.b,Object(j.a)(Object(j.a)({},n),{},{render:function(e){return r?Object(f.jsx)(t,Object(j.a)({},e)):Object(f.jsx)(o.a,{to:"/login"})}}))},X=n(46),H=n(53),K=n(70),V=n.n(K),G=n(170),Q=function(){var e=Object(a.useState)({filenames:[],downloadURLs:[],isUploading:!1,uploadProgress:0}),t=Object(b.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)({pname:"",address:"",price:"",area:""}),s=Object(b.a)(c,2),i=s[0],o=s[1],l=Object(a.useState)([]),p=Object(b.a)(l,2),m=p[0],x=p[1],h=function(){var e=Object(u.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.storage().ref("images").child(t).getDownloadURL();case 2:n=e.sent,r((function(e){return Object(j.a)(Object(j.a)({},e),{},{uploadProgress:100,isUploading:!1})})),x((function(e){return[].concat(Object(H.a)(e),[n])}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(e){var t=e.target.value,n=e.target.name;o((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(X.a)({},n,t))}))},y={width:"70%",border:"1px solid black",padding:"10px",margin:"5px",outline:"none",borderRadius:"7px"};return Object(f.jsxs)("div",{children:[Object(f.jsx)(g,{}),Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"column"," justifyContent":"center",alignItems:"center"},children:[Object(f.jsxs)("form",{style:{width:"50%",display:"flex",flexDirection:"column"," justifyContent":"center",alignItems:"center"},onSubmit:function(e){e.preventDefault(),O.firestore().collection("listings").add({name:i.pname,price:i.price,address:i.address,images:Object(H.a)(m),area:i.area})},children:[Object(f.jsx)("input",{style:y,type:"text",name:"pname",placeholder:"Property Name",onChange:v,required:!0}),Object(f.jsx)("br",{}),Object(f.jsx)("input",{style:y,type:"text",name:"address",placeholder:"Address",onChange:v,required:!0}),Object(f.jsx)("br",{}),Object(f.jsx)("input",{style:y,type:"text",name:"area",placeholder:"Area",onChange:v,required:!0}),Object(f.jsx)("br",{}),Object(f.jsx)("input",{style:y,type:"number",name:"price",placeholder:"Price",onChange:v,required:!0}),Object(f.jsx)("br",{}),Object(f.jsx)(C.a,{type:"submit",variant:"danger",children:"Submit"})]}),Object(f.jsxs)("label",{style:{backgroundColor:"steelblue",margin:"10px",color:"white",padding:10,borderRadius:4,cursor:"pointer"},children:["Choose your images",Object(f.jsx)(V.a,{hidden:!0,accept:"image/*",name:"image-uploader-multiple",randomizeFilename:!0,storageRef:O.storage().ref("images"),onUploadStart:function(){r((function(e){return Object(j.a)(Object(j.a)({},e),{},{isUploading:!0,uploadProgress:0})}))},onUploadError:function(e){r((function(e){return Object(j.a)(Object(j.a)({},e),{},{isUploading:!1})})),console.error(e)},onUploadSuccess:h,onProgress:function(e){r((function(t){return Object(j.a)(Object(j.a)({},t),{},{uploadProgress:e})}))},multiple:!0})]}),Object(f.jsxs)("p",{children:["Progress: ".concat(n.uploadProgress,"%"),"  "]}),Object(f.jsxs)("div",{style:{width:"50%"},children:[Object(f.jsx)(G.a,{animated:!0,now:n.uploadProgress}),Object(f.jsx)("br",{})]}),Object(f.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:m.map((function(e,t){return Object(f.jsx)("img",{style:{margin:"20px",width:"200px"},alt:"img ".concat(t),src:e},t)}))})]})]})},Y=function(){var e=Object(a.useState)({filenames:[],downloadURLs:[],isUploading:!1,uploadProgress:0}),t=Object(b.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)({pname:"",address:"",price:""}),s=Object(b.a)(c,2),i=s[0],o=s[1],l=Object(a.useState)([]),p=Object(b.a)(l,2),m=p[0],x=p[1],h=function(){var e=Object(u.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.storage().ref("images").child(t).getDownloadURL();case 2:n=e.sent,r((function(e){return Object(j.a)(Object(j.a)({},e),{},{uploadProgress:100,isUploading:!1})})),x((function(e){return[].concat(Object(H.a)(e),[n])}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(e){var t=e.target.value,n=e.target.name;o((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(X.a)({},n,t))}))};return Object(f.jsxs)("div",{children:[Object(f.jsx)(g,{}),Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),O.firestore().collection("listings").add({name:i.pname,price:i.price,address:i.address,images:Object(H.a)(m)})},children:[Object(f.jsx)("input",{type:"text",name:"pname",placeholder:"Property Name",onChange:v,required:!0}),Object(f.jsx)("br",{}),Object(f.jsx)("input",{type:"text",name:"address",placeholder:"Address",onChange:v,required:!0}),Object(f.jsx)("input",{type:"text",name:"area",placeholder:"Area",onChange:v,required:!0}),Object(f.jsx)("br",{}),Object(f.jsx)("input",{type:"number",name:"price",placeholder:"Price",onChange:v,required:!0}),Object(f.jsx)("br",{}),Object(f.jsx)("input",{type:"submit"})]}),Object(f.jsx)(V.a,{accept:"image/*",name:"image-uploader-multiple",randomizeFilename:!0,storageRef:O.storage().ref("images"),onUploadStart:function(){r((function(e){return Object(j.a)(Object(j.a)({},e),{},{isUploading:!0,uploadProgress:0})}))},onUploadError:function(e){r((function(e){return Object(j.a)(Object(j.a)({},e),{},{isUploading:!1})})),console.error(e)},onUploadSuccess:h,onProgress:function(e){r((function(t){return Object(j.a)(Object(j.a)({},t),{},{uploadProgress:e})}))},multiple:!0}),Object(f.jsx)("p",{children:"Progress: ".concat(n.uploadProgress,"%")}),Object(f.jsx)("div",{style:{width:"50%"},children:Object(f.jsx)(G.a,{now:n.uploadProgress})}),Object(f.jsxs)("p",{children:["Filenames: ",n.filenames.join(", ")]}),Object(f.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:m.map((function(e,t){return Object(f.jsx)("img",{style:{margin:"20px",width:"200px"},alt:"img ".concat(t),src:e},t)}))}),Object(f.jsx)("button",{onClick:function(){console.log(m)},children:"show"})]})]})};var Z=function(){return Object(f.jsx)(r.a.Fragment,{children:Object(f.jsx)(z,{children:Object(f.jsx)(i.a,{children:Object(f.jsxs)("div",{children:[Object(f.jsx)(o.b,{exact:!0,path:"/login",component:M}),Object(f.jsxs)("div",{children:[Object(f.jsx)(T,{exact:!0,path:"/",component:v}),Object(f.jsx)(T,{exact:!0,path:"/product/:id",component:N}),Object(f.jsx)(T,{exact:!0,path:"/search",component:P}),Object(f.jsx)(T,{exact:!0,path:"/add",component:Q}),Object(f.jsx)(T,{exact:!0,path:"/add2",component:Y})]})]})})})})};s.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(i.a,{children:Object(f.jsx)(Z,{})})}),document.getElementById("root"))}},[[127,1,2]]]);
//# sourceMappingURL=main.ef44dd0b.chunk.js.map